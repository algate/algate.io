<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <title>Algate's Blog|Python自动化测试iOS项目</title>
    <meta name="description" content="作为一个开发人员，为了保证自己的代码的健壮，写单元测试是必不可少的环节，然而最痛快的是每天去手动跑一遍所有的case。那么什么能帮我们解决这些繁琐的操作呢，大家应该会想到自动化测试脚本了，是的，我们可以借助脚本来完成全自动化测试，下面是我列的每天脚本自动执行流程：">
    <meta name="author" content="algate">
    <link rel="alternate" type="application/rss+xml" title="Algate's Blog" href="http://localhost:4000/feed.xml">
    <link href="/assets/icon/favicon.ico" rel="bookmark" type="image/x-icon" />
    <link href="/assets/icon/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="/assets/icon/favicon.svg" rel="shortcut icon" type="image/x-icon" />
    <link rel="stylesheet" href="/assets/css/style.css" />
    <script type="text/javascript" src="/assets/js/jquery-1.11.3.min.js"></script>
    
    <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?617bf75bfd954382202927d87bf48f13";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
    </script>
    
    <script type="text/javascript">
    window.google = {
        kEI: "3TLKTfD9DsmxcNrP7aIG",
        kEXPI: "17259,18167,28505,28555,29685,29795,29813,29957,30035,30107,30152,30205",
        kCSI: {
            e: "17259,18167,28505,28555,29685,29795,29813,29957,30035,30107,30152,30205",
            ei: "3TLKTfD9DsmxcNrP7aIG",
            expi: "17259,18167,28505,28555,29685,29795,29813,29957,30035,30107,30152,30205"
        },
        authuser: 0,
        ml: function() {},
        kHL: "zh-CN",
        time: function() {
            return (new Date).getTime()
        },
        log: function(c, d, b) {
            var a = new Image,
                e = google,
                g = e.lc,
                f = e.li;
            a.onerror = (a.onload = (a.onabort = function() {
                delete g[f]
            }));
            g[f] = a;
            b = b || "/gen_204?atyp=i&ct=" + c + "&cad=" + d + "&zx=" + google.time();
            a.src = b;
            e.li = f + 1
        },
        lc: [],
        li: 0,
        Toolbelt: {}
    };
    </script>
</head>

<body class="nav-fixed-top">
    <header class="header" style="z-index: 3;background: rgba(0,155,219,0.8)">
    <div class="container">
        <h1 class="logo"><a href="javascript:;"  style="font-size: 20px;color:#fff;">Algate's Blog</a></h1>
        <div class="sitenav">
            <ul>
                <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-8"><a href="/">首页</a></li>
                
                <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-10">
                    
                    <a href="/archive" title="archive">
                        所有文章
                    </a>
                    
                    
                </li>
                
                <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-10">
                    
                    <a href="/tags" title="tags">
                        分类标签
                    </a>
                    
                    
                </li>
                
                <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-10">
                    
                    <a href="/notes" title="notes">
                        日记
                    </a>
                    
                    
                </li>
                
                <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-10">
                    
                    <a href="/about" onclick="_hmt.push(['_trackEvent', 'algate', 'click', 'resume'])" title="about">
                        关于我的
                    </a>
                    
                    
                </li>
                
            </ul>
        </div>
        <div style="color:#8fe620;float:right;">本站访客数<span id="busuanzi_value_site_uv"></span>人次</div>
        <span class="sitenav-on"><i class="fa" style="color:#fff;"></i></span>
        <span class="sitenav-mask"></span>
    </div>
</header>
<style type="text/css">
    .hdfocus {
        height: 300px;
        color: #fff;
        background-color: #33383C;
        background-repeat: no-repeat;
        background-position: 50% 50%;
        background-size: cover;
        text-align: center;
    }
</style>
<div class="focus-slider flexslider">
    <canvas id="canvas" style="position: fixed;z-index: 0;top:0;"></canvas>
</div>
    <section class="container">
        <div class="excerpts-wrapper" style="margin-top:0;">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
        <h1 class="post-title">Python自动化测试iOS项目</h1>
        <div class="post-meta">
            <img src="/assets/images/calendar.png" width="20px" />
            <time datetime="2016-08-04 00:00:00 +0800" itemprop="datePublished" class="post-meta__date date">2016-08-04</time>
            <span id="busuanzi_container_page_pv">
              本文总阅读量<span id="busuanzi_value_page_pv"></span>次
            </span>
            </p>
        </div>
    </header>
    <section class="post">
        <p>作为一个开发人员，为了保证自己的代码的健壮，写单元测试是必不可少的环节，然而最痛快的是每天去手动跑一遍所有的case。那么什么能帮我们解决这些繁琐的操作呢，大家应该会想到自动化测试脚本了，是的，我们可以借助脚本来完成全自动化测试，下面是我列的每天脚本自动执行流程：</p>

<blockquote>
  <ul>
    <li>1、<code class="highlighter-rouge">pull</code> git仓库里面的最新代码到本地。</li>
    <li>2、然后打包成<code class="highlighter-rouge">App</code>。</li>
    <li>3、安装到模拟器上。</li>
    <li>4、运行App，执行单元测试，生成测试数据并保存到本地。</li>
    <li>5、脚本读取测试数据，邮件发送给相关人员。</li>
  </ul>
</blockquote>

<p>当这些全自动化后，可以大大减少开发人员的维护成本，即使每次项目里面有新增模块后，增加测试case就行了，下面会介绍自动测试这5步具体怎么去执行，整个脚本是使用Python写的，代码很少功能也很简单，但这已经可以帮我们完成基本的自动化测试了，这就是脚本的强大之处，选择Pyhton纯属个人喜好，最近也在学习Python，当然了最终使用什么语言看你自己。</p>

<h3 id="python执行shell命令完成测试">python执行shell命令完成测试</h3>

<p>首先确认本机上安装了<code class="highlighter-rouge">git</code> 和 <code class="highlighter-rouge">python</code> 。  <br />
脚本判断本地是否存在项目，不存在则使用命令 <code class="highlighter-rouge">git clone ...</code> ，存在则使用命令 <code class="highlighter-rouge">git pull ...</code> 。     <br />
这些在Linux的命令都可以使用脚本来完成的，python的 <code class="highlighter-rouge">os.popen()</code> 方法 就是可以在Linux上执行shell命令。   <br />
<strong>例如：</strong>  把下面这段代码添加到一个 test.py 的文件里，然后在终端上执行 <code class="highlighter-rouge">python test.py</code> 命令你就会看到，你的当前目录下正在下载我的博客了。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import os

os.popen('git clone https://github.com/leopardpan/leopardpan.github.io.git')   

</code></pre>
</div>
<p>git pull 。。。 更新代码也是一样的。</p>

<p>接下来的打包、安装、运行都是使用python执行shell命令</p>

<p><strong>把iOS项目打包成App，下面的 <code class="highlighter-rouge">Demo</code> 是项目的名字</strong></p>

<blockquote>
  <ul>
    <li>os.popen(‘xcodebuild -project Demo.xcodeproj -target Demo -configuration Debug -sdk iphonesimulator’)</li>
  </ul>
</blockquote>

<p>这行脚本运行完成后，你就会发现同会生成一个 <code class="highlighter-rouge">build</code> 的文件夹。<br />
Debug参数表示现在是Debug模式，如果Xcode里面改成Release了，这里需要改成Release。<br />
xcodebuild 命令是 Xcode Command Line Tools 的一部分。通过调用这个命令，可以完成 iOS 工程的编译，打包和签名过程。可以使用 xcodebuild –help 来看看具体有哪些功能。</p>

<p><strong>打开iOS模拟器，这里运行的是<code class="highlighter-rouge">iPhone 6 Plus</code> 你也可以换成其它型号的模拟器</strong></p>

<blockquote>
  <ul>
    <li>os.popen(‘xcrun instruments -w “iPhone 6 Plus”’)</li>
  </ul>
</blockquote>

<p><strong>把刚才打包生成的App安装到模拟器上</strong>    <br />
在安装之前要先卸载App,不然你运行的永远是最初安装的那个，后来安装的不会覆盖之前的，卸载App</p>

<blockquote>
  <ul>
    <li>os.popen(‘xcrun simctl uninstall booted com.test.Demo’)</li>
  </ul>
</blockquote>

<p>booted 后面接的是 <code class="highlighter-rouge">Bundle Identifier</code>，我的是 com.test.Demo，然后再安装App</p>

<blockquote>
  <ul>
    <li>os.popen(‘xcrun simctl install booted build/Debug-iphonesimulator/Demo.app ‘)</li>
  </ul>
</blockquote>

<p>booted 后面接的是.app的路径，我打包的时候的是Debug，所以这个的文件夹名称是Debug-iphonesimulator。</p>

<p><strong>在模拟器里运行App</strong></p>

<blockquote>
  <ul>
    <li>os.popen(‘xcrun simctl launch booted com.test.Demo’)</li>
  </ul>
</blockquote>

<p>booted 后面接的是 <code class="highlighter-rouge">Bundle Identifier</code>，我的是 com.test.Demo。</p>

<p>到目前为止，你就会发现你的项目已经运行起来了，你可以在项目是Debug模式下一启动就执行单元测试，然后把对应的测试数据保存到本地为data.json。然后在使用python脚本读取测试文件的数据，最终使用邮件发送给相关人员，pyhton读取数据很简单，一行代码就行</p>

<blockquote>
  <ul>
    <li>data = open(‘data.json’).read()</li>
  </ul>
</blockquote>

<p>data里面就是json字符串，为了脚本操作简单，我在存储的时候直接把json格式的转成了字符串类型。</p>

<h3 id="python发送邮件">python发送邮件</h3>

<p>我使用的是SMTP进行邮件发送的，SMTP是发送邮件的协议，Python内置对SMTP的支持，可以发送纯文本邮件、HTML邮件以及带附件的邮件。</p>

<p>Python对SMTP支持有smtplib和email两个模块，email负责构造邮件，smtplib负责发送邮件，具体代码如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>from email import encoders
from email.header import Header
from email.mime.text import MIMEText
from email.utils import parseaddr, formataddr
import smtplib

def format_addr(self,s):
    name, addr = parseaddr(s)
    return formataddr(( \
        Header(name, 'utf-8').encode(), \
        addr.encode('utf-8') if isinstance(addr, unicode) else addr))

def send_mail(self, mail, message, title):
	from_addr = 'leopardpan@163.com'
	password = ''
	to_addr = mail
	smtp_server = 'smtp.163.com'

	msg = MIMEText(message, 'plain', 'utf-8')
	msg['From'] = self.format_addr(u'自动化测试邮件 &lt;%s&gt;' % from_addr)
	msg['To'] = self.format_addr(u'管理员 &lt;%s&gt;' % to_addr)
	msg['Subject'] = Header(title, 'utf-8').encode()

	server = smtplib.SMTP(smtp_server, 25)
	server.set_debuglevel(1)
	server.login(from_addr, password)
	server.sendmail(from_addr, [to_addr], msg.as_string())
	server.quit()

send_mail('leopardpan@icloud.com','正文','标题')
</code></pre>
</div>

<p>from_addr是发送方的邮箱地址，password是开通SMTP时输入的密码   <br />
smtp_server是smtp的服务，如果你的from_addr是gamil.com，那么就要写成smtp_server = ‘smtp.gmail.com’ 了。</p>

<p>方法 send_mail(self, mail, message, title): 有四个参数，第一个不用传，第二个参数是收信人的邮箱，第三个是邮件的正文，第四个是邮件的标题，方法调用格式： <code class="highlighter-rouge">send_mail('leopardpan@icloud.com','正文','标题')</code></p>

<p>注意：发送方的邮箱必须要开通SMTP功能才行，否则会报错</p>

<blockquote>
  <ul>
    <li>SMTPSenderRefused: (550, ‘User has no permission’, ‘leopardpan@163.com’)</li>
  </ul>
</blockquote>

<p>163的SMTP开通，需要你登录网易邮箱，然后点击顶部的设置就会出现<code class="highlighter-rouge">POP3/SMTP/IMAP</code>，点击之后，勾选选择开启，这个时候需要你输入密码，记住这个密码就是上面代码中的<code class="highlighter-rouge">password</code>，如果你都完成的话，你把上面的代码拷贝出现，把邮箱修改成你自己的，使用 pyhton 运行一下吧。</p>

<p>上面的几个流程结合起来就可以实现一个简单的自动化测试了，如果你有什么建议和意见欢迎讨论。</p>

<p>参考链接：
<a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386832745198026a685614e7462fb57dbf733cc9f3ad000">SMTP发送邮件</a></p>

<p><br /></p>

<p>转载请注明：<a href="http://baixin">潘柏信的博客</a> » <a href="http://baixin.io/2016/08/PythonTestAutomationiOS/">点击阅读原文</a></p>


    </section>
</article>
<section>
    <div class="content-play">
        <p><a href="javascript:void(0)" onclick="dashangToggle()" class="dashang" title="打赏，支持一下">打赏一个呗</a></p>
        <div class="hide_box-play"></div>
        <div class="shang_box-play">
            <a class="shang_close-play" href="javascript:void(0)" onclick="dashangToggle()" title="关闭"><img src="/assets/images/payimg/close.jpg" alt="取消" /></a>
            <div class="shang_tit-play">
                <p>感谢您的支持，我会继续努力的!</p>
            </div>
            <div class="shang_payimg">
                <img src="/assets/images/payimg/alipayimg.jpg" alt="扫码支持" title="扫一扫" />
            </div>
            <div class="shang_payimg">
                <img src="/assets/images/payimg/weipayimg.jpg" alt="扫码支持" title="扫一扫" />
            </div>
            <div class="pay_explain">扫码打赏，你说多少就多少</div>
            <div class="shang_payselect">
                <div class="pay_item checked" data-id="alipay">
                    <span class="pay_logo"><img src="/assets/images/payimg/alipay.jpg" alt="支付宝" /></span>
                </div>
                <div class="pay_item" data-id="weipay">
                    <span class="pay_logo"><img src="/assets/images/payimg/wechat.jpg" alt="微信" /></span>
                </div>
            </div>
            <div class="shang_info-play">
                <p>打开<span id="shang_pay_txt">支付宝</span>扫一扫，即可进行扫码打赏哦</p>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    function dashangToggle() {
        $(".hide_box-play").fadeToggle();
        $(".shang_box-play").fadeToggle();
    }
    </script>
    <div style="text-align:center;margin:50px 0; font:normal 14px/24px 'MicroSoft YaHei';"></div>
    <style type="text/css">
    .content-play {
        width: 80%;
        margin-top: 20px;
        margin-bottom: 10px;
        height: 40px;
    }

    .hide_box-play {
        z-index: 999;
        filter: alpha(opacity=50);
        background: #666;
        opacity: 0.5;
        -moz-opacity: 0.5;
        left: 0;
        top: 0;
        height: 99%;
        width: 100%;
        position: fixed;
        display: none;
    }

    .shang_box-play {
        width: 540px;
        height: 460px;
        padding: 10px;
        background-color: #fff;
        border-radius: 10px;
        position: fixed;
        z-index: 1000;
        left: 50%;
        top: 50%;
        margin-left: -280px;
        margin-top: -280px;
        border: 1px dotted #dedede;
        display: none;
        text-align: center;
    }

    .shang_box-play img {
        border: none;
        border-width: 0;
    }

    .dashang {
        display: block;
        width: 100px;
        margin: 5px auto;
        line-height: 25px;
        padding: 10px;
        background-color: #E74851;
        color: #fff;
        text-align: center;
        text-decoration: none;
        border-radius: 10px;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s;
    }

    .dashang:hover {
        opacity: 0.8;
    }

    .shang_close-play {
        float: right;
        display: inline-block;
        margin-right: 10px;
        margin-top: 20px;
    }

    .shang_logo {
        display: block;
        text-align: center;
        margin: 20px auto;
    }

    .shang_tit-play {
        width: 100%;
        height: 75px;
        text-align: center;
        line-height: 66px;
        color: #a3a3a3;
        font-size: 16px;
        background: url('/images/payimg/cy-reward-title-bg.jpg');
        font-family: 'Microsoft YaHei';
        margin-top: 7px;
        margin-right: 2px;
    }

    .shang_tit-play p {
        color: #a3a3a3;
        text-align: center;
        font-size: 16px;
    }

    .shang_payimg {
        padding: 10px;
        /*border:6px solid #EA5F00;**/
        margin: 0 auto;
        border-radius: 3px;
        height: 140px;
        display: inline-block;
    }

    .shang_payimg img {
        display: inline-block;
        margin-right: 10px;
        text-align: center;
        width: 140px;
        height: 140px;
    }

    .pay_explain {
        text-align: center;
        margin: 10px auto;
        font-size: 12px;
        color: #545454;
    }

    .shang_payselect {
        text-align: center;
        margin: 0 auto;
        margin-top: 40px;
        cursor: pointer;
        height: 60px;
    }

    .shang_payselect .pay_item {
        display: inline-block;
    }

    .shang_info-play {
        clear: both;
    }

    .shang_info-play p,
    .shang_info-play a {
        color: #C3C3C3;
        text-align: center;
        font-size: 12px;
        text-decoration: none;
        line-height: 2em;
    }
    </style>
    <ul class="pager">
        
        <li class="previous">
            <a href="/2016/07/15/Codeless.html" data-toggle="tooltip" data-placement="top" title="老司机带你剖析无码统计">下一篇：  <span>老司机带你剖析无码统计</span>
            </a>
        </li>
         
        <li class="next">
            <a href="/2016/09/23/iOSLowerLeftAppicon.html" data-toggle="tooltip" data-placement="top" title="iOS设备左下角出现Appicon">上一篇：  <span>iOS设备左下角出现Appicon</span>
            </a>
        </li>
        
    </ul>
</section>
<div id="gitmentContainer"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
var gitment = new Gitment({
    owner: 'algate',
    repo: 'algate.github.io',
    oauth: {
        client_id: '0b0d43a49adc0200ac23',
        client_secret: '82553f5ed0d11dc2792158cf476aa731664467ca'
    },
});
gitment.render('gitmentContainer');
</script>
<!-- 下边为uyan评论系统 (jekyll先注释掉comments.html)-->
        </div>
    </section>
    <section class="footer">
    <footer style="position: relative;z-index: 4;color:#444;">
        <div class = "footer_div">
        <nav class="cover-navigation navigation--social">
          <ul class="navigation">

          <!-- 

          

          

          

          RSS
          <li class="navigation__item_social">
            <a href="/feed.xml" rel="author" title="RSS" target="_blank">
              <i class='social fa fa-rss fa-2x'></i>
              <span class="label">RSS</span>
            </a>
          </li>

           -->

          </ul>
        </nav>

        </div>

        <div class = "footer_div">
          <div style="text-align: center;">
          <!-- 访问统计 -->
            <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>

          </div>
          <p class="copyright text-muted">
            Copyright &copy; Algate's Blog 2015-2018 Theme by <a href="https://algate.github.io/">Algate</a> |
            <iframe
                style="margin-left: 2px; margin-bottom:-5px;"
                frameborder="0" scrolling="0" width="91px" height="20px"
                src="https://ghbtns.com/github-btn.html?user=algate&repo=algate.github.io&type=star&count=true" >
            </iframe>
          </p>
        <div>
    </footer>
</section>

    <script type="text/javascript">
    var sitenavOn = document.getElementsByClassName('sitenav-on')[0];
    sitenavOn.addEventListener('click',function(e){
        document.body.classList.add('sitenav-active');
        e.stopPropagation();
    },false);
    document.getElementsByClassName('sitenav-mask')[0].addEventListener('click',function(e){
        var str = document.body.classList;
        if(str && str[1] == 'sitenav-active'){
            document.body.classList.remove('sitenav-active');
        }
    })
</script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script type="text/javascript" src="/assets/js/main.js"></script>
<script type="text/javascript">
(function() {
    try {
        if (!google.doodle) google.doodle = {};
        var d = [
                [307, 48, 88, 89],
                [307, 48, 89, 89],
                [307, 48, 91, 89],
                [305, 49, 93, 89],
                [305, 50, 93, 88],
                [305, 50, 93, 88],
                [306, 52, 92, 86],
                [305, 53, 93, 84],
                [305, 54, 94, 83],
                [306, 54, 93, 83],
                [307, 54, 92, 83],
                [307, 54, 92, 83],
                [308, 54, 90, 83],
                [308, 54, 90, 83],
                [306, 53, 91, 84],
                [306, 53, 91, 84],
                [308, 53, 90, 84],
                [308, 53, 90, 84],
                [305, 53, 92, 84],
                [305, 52, 92, 85],
                [306, 52, 91, 85],
                [308, 51, 88, 87, 1],
                [308, 50, 88, 88],
                [308, 49, 88, 88],
                [307, 49, 89, 88],
                [307, 50, 89, 87],
                [308, 51, 89, 86],
                [307, 54, 90, 83],
                [307, 57, 90, 80],
                [306, 58, 92, 79],
                [306, 58, 92, 79],
                [305, 60, 92, 77],
                [302, 61, 95, 76],
                [302, 63, 95, 74],
                [302, 51, 96, 86],
                [302, 66, 98, 71],
                [304, 67, 96, 69],
                [301, 63, 96, 74],
                [301, 58, 93, 79],
                [291, 52, 94, 85],
                [288, 50, 71, 88],
                [285, 43, 76, 95],
                [285, 37, 70, 101],
                [281, 29, 55, 109],
                [278, 20, 58, 119],
                [278, 20, 55, 119, 1],
                [277, 12, 121, 127],
                [271, 2, 122, 138],
                [267, 1, 126, 139],
                [264, 0, 136, 140],
                [260, 0, 141, 140],
                [255, 0, 148, 140],
                [252, 0, 151, 140],
                [249, 2, 121, 138],
                [247, 3, 123, 137],
                [246, 3, 123, 137],
                [246, 2, 124, 137],
                [258, 2, 112, 137],
                [263, 2, 106, 137],
                [263, 2, 106, 137],
                [262, 2, 103, 137],
                [260, 2, 104, 136],
                [260, 2, 104, 137, 1],
                [268, 2, 98, 137],
                [267, 2, 99, 137],
                [266, 2, 97, 137],
                [266, 3, 96, 136],
                [264, 3, 99, 136],
                [263, 3, 100, 136],
                [261, 3, 100, 136],
                [259, 2, 138, 137],
                [254, 2, 126, 137],
                [247, 2, 101, 136],
                [240, 2, 108, 136],
                [238, 1, 110, 137],
                [230, 1, 118, 138],
                [220, 15, 128, 124],
                [211, 18, 137, 121],
                [205, 43, 102, 96],
                [202, 45, 104, 93],
                [200, 38, 97, 101],
                [198, 38, 104, 101, 1],
                [197, 39, 107, 100],
                [197, 39, 112, 100],
                [213, 39, 94, 110],
                [212, 40, 95, 111],
                [211, 41, 97, 111],
                [209, 42, 99, 112],
                [209, 43, 98, 112],
                [213, 43, 87, 112],
                [213, 42, 83, 113],
                [211, 40, 86, 109],
                [211, 38, 86, 103],
                [211, 37, 88, 112],
                [211, 20, 186, 131],
                [213, 27, 167, 122],
                [212, 44, 87, 105],
                [210, 44, 88, 98],
                [195, 44, 106, 98],
                [189, 44, 110, 98],
                [182, 46, 117, 99],
                [173, 44, 118, 96, 1],
                [161, 43, 130, 99],
                [154, 42, 137, 97],
                [153, 42, 137, 97],
                [153, 42, 137, 97],
                [152, 41, 137, 98],
                [151, 41, 137, 97],
                [149, 41, 145, 97],
                [148, 25, 144, 114],
                [148, 13, 144, 126],
                [141, 12, 153, 127],
                [115, 11, 173, 128],
                [108, 7, 180, 133],
                [108, 4, 180, 136],
                [108, 3, 176, 137, 1],
                [108, 1, 161, 139],
                [105, 1, 235, 138],
                [103, 1, 295, 148],
                [103, 0, 277, 149],
                [108, 0, 234, 137],
                [101, 0, 232, 137],
                [99, 0, 135, 139],
                [95, 0, 244, 139],
                [81, 0, 152, 139],
                [69, 0, 164, 139, 1],
                [66, 0, 169, 139],
                [65, 0, 170, 139],
                [63, 0, 168, 138],
                [61, 0, 159, 138],
                [35, 0, 304, 139],
                [19, 0, 189, 140],
                [18, 11, 138, 129],
                [18, 11, 137, 129],
                [18, 11, 137, 128],
                [18, 6, 135, 133],
                [7, 4, 146, 136],
                [6, 4, 147, 136],
                [3, 4, 150, 136, 1],
                [3, 5, 150, 135],
                [3, 8, 150, 132],
                [4, 6, 394, 145],
                [12, 6, 388, 145],
                [11, 8, 389, 144],
                [11, 8, 387, 144],
                [11, 8, 387, 143, 1],
                [10, 8, 113, 131],
                [11, 8, 111, 131],
                [10, 9, 112, 130],
                [12, 9, 116, 130],
                [12, 9, 111, 130],
                [12, 9, 111, 130],
                [12, 9, 110, 131],
                [12, 34, 113, 106],
                [13, 35, 110, 104]
            ],
            e = d.length,
            f, g, h, i, j = -1,
            k = function() {
                google.nav && google.nav.go ? google.nav.go("http://www.google.com.hk//search?q=%E7%8E%9B%E8%8E%8E%C2%B7%E8%91%9B%E5%85%B0%E5%A7%86&ct=graham11-hp&oi=ddle&hl=zh-CN") : window.location.href = "http://www.google.com.hk//search?q=%E7%8E%9B%E8%8E%8E%C2%B7%E8%91%9B%E5%85%B0%E5%A7%86&ct=graham11-hp&oi=ddle&hl=zh-CN"
            },
            l = function() {
                var a = d[f],
                    c = document.getElementById("hplogo");
                if (c && a[0]) {
                    var b = document.createElement("div");
                    b.id = "hplogo" + f;
                    b.style.left = a[0] + "px";
                    b.style.top = a[1] + "px";
                    b.style.width = a[2] + "px";
                    b.style.height = a[3] + "px";
                    b.style.background = "url(/assets/images/graham11-hp-sprite.png) no-repeat " + -g + "px " + -h + "px";
                    b.onmousedown = k;
                    a[3] > i && (i = a[3]);
                    a[4] ? (g = 0, h += i, i = 0) : g += a[2];
                    c.appendChild(b);
                    ++f;
                    f < e && (j = window.setTimeout(l, 83))
                }
            },
            m = function() {
                google.doodle.a = !1;
                i = h = g = f = 0;
                j != -1 && (window.clearTimeout(j), j = -1);
                for (var a = 0; a < e; ++a) {
                    var c = document.getElementById("hplogo" + a);
                    c && c.parentNode && c.parentNode.removeChild(c)
                }
                j = window.setTimeout(l, 83)
            };
        if (!google.doodle.a) {
            google.doodle.a = !0;
            var n = document.createElement("img");
            n.addEventListener ? n.addEventListener("load", m, !1) : n.attachEvent("onload", m);
            n.src = "/assets/images/graham11-hp-sprite.png"
        }
    } catch (o) {
        google.ml(o, !1, {
            cause: "DOODLE"
        })
    };
})();
</script>



</body>

</html>